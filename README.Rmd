---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

# nhdR

The goal of nhdR is to provide R tools for interacting with the National Hydrography Dataset.

## Installation

You can install nhdR from github with:

```{r gh-installation, eval = FALSE}
# install.packages("devtools")
devtools::install_github("jsta/nhdR")
```


### NHD Plus
`nhdR` expects the NHD Plus `.gdb` file to be located at the location returned by `gdb_plus_path()`. This is ultimately a function of `rappdirs::user_data_dir`. On a Linux machine this will be something like:

`~/.local/share/nhdR/NHDPlusV21_NationalData_National_Seamless_Geodatabase_02/NHDPlusNationalData/NHDPlusV21_National_Seamless.gdb`

Getting the data to this location is a manual process for now in part because of the sizes of the files involved.

```{r eval=FALSE}
# Copy NHD Plus gdb file to:
nhdR:::gdb_plus_path()
```

## Usage
### Load package

```{r }
library(nhdR)
```

### NHD

```{r eval=FALSE}
nhd_get(state = c("DC", "HI"))
```

```{r }
nhd_list(state = "DC")
```

```{r }
nhd_info(state = "DC", layer_name = "NHDWaterbody")
```

```{r }
nhd_load(state = "DC", layer_name = "NHDWaterbody")
```


### NHD Plus

```{r }
# list layers
nhd_plus_list()
```

```{r eval=FALSE}
# get layer info
nhd_plus_info("NHDWaterbody")
```

```{r echo=FALSE}
info <- capture.output(nhd_plus_info("NHDWaterbody"))
# gsub("/home/jose", "~", info)
info[2:length(info)]
```

```{r }
# load layer
dt <- nhd_plus_load("NHDWaterbody")
```
